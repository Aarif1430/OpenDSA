<!--
####################################### Radix Sort ##################################################
#  Question     : Given a random array of size arr_size, assign the elements to its appropriate bins 
#  Variables    : arr_size 6 - 12
#  Chapter      : RadixSort
#  Author       : Gayathri
#  Date         : August 10, 2012
#######################################################################################################
-->

<!DOCTYPE html>
<html data-require="math">

	<head>
                <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
                <title>Organise into Bins</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
                <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
                <script src="../JSAV/lib/jquery.transform.light.js"></script>
		<script src="../JSAV/lib/raphael.js"></script>
                <script type="text/javascript"
       src="http://cdn.mathjax.org/mathjax/1.1-latest/MathJax.js?config=http://algoviz.org/OpenDSA/dev/OpenDSA/ODSAkhan-exercises/KAthJax-77111459c7d82564a705f9c5480e2c88.js">
                </script>
                <script>urlBaseOverride = "../ODSAkhan-exercises/";</script>
                <script src="../ODSAkhan-exercises/khan-exercise.js"></script>
                <script src="../JSAV/build/JSAV-min.js"></script>
                <link rel="stylesheet" href="../JSAV/css/JSAV.css" type="text/css" />

		<style>
			.jsavcontainer {
  				border: 0px;
				height: 600px;
			}
			.jsavsettings {
  				display: block;
  				margin-top: -1px;
  				margin-left: 10px;
			}
			.jsavoutput.jsavline { height: 45px; margin: 0 0 0 20px;}
                        .jsavcontrols a { margin-left: 0;}
                        #reset { margin-right: 20px;}
		</style>


	<body>

	<script>
  		var jsav, arr , ar, arr_clone, myGuess, nsel, sel1, L0, L1, L2, L3, L4, L5, L6, L7, L8, L9, L0_clone, L1_clone, L2_clone, L3_clone, L4_clone, L5_clone, L6_clone, L7_clone, L8_clone, L9_clone, arr0, arr1, arr2, arr3, arr4, arr5, arr6, arr7, arr8, arr9, uarr0, uarr1, uarr2, uarr3, uarr4, uarr5, uarr6, uarr7, uarr8, uarr9, ii0, ii1, ii2, ii3, ii4, ii5, ii6, ii7, ii8, ii9;
  
	
		// function to handle a click event on an array
		function clickHandler(arrn, index,arrnum) {
			if (nsel == 0)    // No element is currently selected, select the current element
                        {
				// Don't let the user select bin array
				if (arrnum != 10) 
					return;
				arr.highlight(index);
                                nsel = nsel+1;
                                sel1 = index;
				// L1.addLast(2);
				// L1.layout({center: false});
				
                        } else {
				if (arrnum == 10)
				{
					if (index == sel1) {
						arr.unhighlight(index);
						nsel=0;
						// L1.addLast(3);
						// L1.layout({center: false});
					} else {
						arr.unhighlight(sel1);
						arr.highlight(index);
						sel1 = index;
					}
				} 
				if (arrnum == 0) 
				{
					L0.addLast(arr.value(sel1));
					L0.layout({center: false});
					nsel = 0;
					arr.unhighlight(sel1);
					uarr0[ii0] = arr.value(sel1) ;
					ii0 = ii0 +1;
					L0.first().edgeToNext().show();
				}	
				if (arrnum == 1) 
                                {
                                	L1.addLast(arr.value(sel1));
                                	L1.layout({center: false});
                                 	nsel = 0;
                                	arr.unhighlight(sel1);
					uarr1[ii1] = arr.value(sel1) ;
                                        ii1 = ii1 +1;
					L1.first().edgeToNext().show();
                                }
				if (arrnum == 2) 
                                {
                                 	L2.addLast(arr.value(sel1));
                                 	L2.layout({center: false});
                                 	nsel = 0;
                                	arr.unhighlight(sel1);
					uarr2[ii2] = arr.value(sel1) ;
                                        ii2 = ii2 +1;
					L2.first().edgeToNext().show();
                                 }
                                 if (arrnum == 3)
                                 {
                                  	L3.addLast(arr.value(sel1));
                                        L3.layout({center: false});
                                        nsel = 0;
                                        arr.unhighlight(sel1);
					uarr3[ii3] = arr.value(sel1) ;
                                        ii3 = ii3 +1;
					L3.first().edgeToNext().show();
                                  }
                                  if (arrnum == 4)
                                  {
                                  	L4.addLast(arr.value(sel1));
                                   	L4.layout({center: false});
                                   	nsel = 0;
                                   	arr.unhighlight(sel1);
					uarr4[ii4] = arr.value(sel1) ;
                                        ii4 = ii4 +1;
					L4.first().edgeToNext().show();
                                   }
                                   if (arrnum == 5)
                                   {
                                    	L5.addLast(arr.value(sel1));
                                        L5.layout({center: false});
                                        nsel = 0;
                                        arr.unhighlight(sel1);
					uarr5[ii5] = arr.value(sel1) ;
                                        ii5 = ii5 +1;
					L5.first().edgeToNext().show();
                                    }
                                    if (arrnum == 6)
                                    {
                                    	L6.addLast(arr.value(sel1));
                                     	L6.layout({center: false});
                                     	nsel = 0;
                                    	arr.unhighlight(sel1);
					uarr6[ii6] = arr.value(sel1) ;
                                        ii6 = ii6 +1;
					L6.first().edgeToNext().show();
                                    }
                                    if (arrnum == 7)
                                    {
                                    	L7.addLast(arr.value(sel1));
                                    	L7.layout({center: false});
                                    	nsel = 0;
                                    	arr.unhighlight(sel1);
					uarr7[ii7] = arr.value(sel1) ;
                                        ii7 = ii7 +1;
					L7.first().edgeToNext().show();
                                    }
                                    if (arrnum == 8)
                                    {
                                    	L8.addLast(arr.value(sel1));
                                    	L8.layout({center: false});
                                    	nsel = 0;
                                     	arr.unhighlight(sel1);
					uarr8[ii8] = arr.value(sel1) ;
                                        ii8 = ii8 +1;
					L8.first().edgeToNext().show();
                                    }
                                    if (arrnum == 9)
                                    {
                                     	L9.addLast(arr.value(sel1));
                                     	L9.layout({center: false});
                                        nsel = 0;
                                    	arr.unhighlight(sel1);
					uarr9[ii9] = arr.value(sel1) ;
                                        ii9 = ii9 +1;
					L9.first().edgeToNext().show();
                                     }
			}
			
			uarr0.sort(function(a,b){return a-b});
                        uarr1.sort(function(a,b){return a-b});
                        uarr2.sort(function(a,b){return a-b});
                        uarr3.sort(function(a,b){return a-b});
                        uarr4.sort(function(a,b){return a-b});
                        uarr5.sort(function(a,b){return a-b});
                        uarr6.sort(function(a,b){return a-b});
                        uarr7.sort(function(a,b){return a-b});
                        uarr8.sort(function(a,b){return a-b});
                        uarr9.sort(function(a,b){return a-b});
					
                }

		// function that returns x-coordinate of the object
		var getXCumulativeOffset = function (obj) {
                    var left, top;
                  left = top = 0;
                    if (obj.offsetParent) {
                        do {
                                 left += obj.offsetLeft;
                                 top  += obj.offsetTop;
                        } while (obj = obj.offsetParent);
                }
                 return left;
                };

		// function that returns y-coordinate of the object
                var getYCumulativeOffset = function (obj) {
                    var left, top;
                  left = top = 0;
                    if (obj.offsetParent) {
                        do {
                                 left += obj.offsetLeft;
                                 top  += obj.offsetTop;
                        } while (obj = obj.offsetParent);
                }   
                 return top;
                };


                // function that initialise JSAV library
                initJSAV = function(a) {
                        var i;
                        myGuess = -1;
                        nsel = 0;
			sel1 = 0;
			ii0 = 0;
			ii1 = 0;
                        ii2 = 0;
                        ii3 = 0;
                        ii4 = 0;
                        ii5 = 0;
                        ii6 = 0;
                        ii7 = 0;
                        ii8 = 0;
                        ii9 = 0;
                        jsav = new JSAV("jsav");
                        arr = jsav.ds.array(JSAV.utils.rand.numKeys(0, 999, a),{indexed: true, center: false, layout: "vertical"});
			arr.element.attr("id","array1");
                        arr_clone = jsav.ds.array(JSAV.utils.rand.numKeys(0, 999, a));
                        arr_clone.hide();
                        for (i=0; i<a; i++)
                        {
                                arr_clone.value(i,arr.value(i));
                        }
			var left_offset = getXCumulativeOffset(arr);
			var top_offset = getYCumulativeOffset(arr);
			L0 = jsav.ds.list({top: top_offset, left: 170});
          		L0.layout({center: false});
			L0.addFirst(0);
			L0.layout({center: false});
			top_offset = top_offset + 46;
          		L1 = jsav.ds.list({top: top_offset, left: 170});
          		L1.layout({center: false});
			L1.addFirst(1);
                        L1.layout({center: false});
			top_offset = top_offset + 46;
          		L2 = jsav.ds.list({top: top_offset, left: 170});
          		L2.layout({center: false});
			L2.addFirst(2);
                        L2.layout({center: false}); 
			top_offset = top_offset + 46;         
			L3 = jsav.ds.list({top: top_offset, left: 170});
          		L3.layout({center: false});
			L3.addFirst(3);
                        L3.layout({center: false});
			top_offset = top_offset + 46;
          		L4 = jsav.ds.list({top: top_offset, left: 170});
          		L4.layout({center: false});
			L4.addFirst(4);
                        L4.layout({center: false});
			top_offset = top_offset + 46;
          		L5 = jsav.ds.list({top: top_offset, left: 170});
          		L5.layout({center: false});
			L5.addFirst(5);
                        L5.layout({center: false});
			top_offset = top_offset + 46;
          		L6 = jsav.ds.list({top: top_offset, left: 170});
          		L6.layout({center: false});
			L6.addFirst(6);
                        L6.layout({center: false});
			top_offset = top_offset + 46;
          		L7 = jsav.ds.list({top: top_offset, left: 170});
          		L7.layout({center: false});
			L7.addFirst(7);
                        L7.layout({center: false});
			top_offset = top_offset + 46;
          		L8 = jsav.ds.list({top: top_offset, left: 170});
          		L8.layout({center: false});
			L8.addFirst(8);
                        L8.layout({center: false});
			top_offset = top_offset + 46;
          		L9 = jsav.ds.list({top: top_offset, left: 170});
          		L9.layout({center: false});
			L9.addFirst(9);
                        L9.layout({center: false});


			// allocate arrays for storing user answer and model answer
			arr0 = new Array(a);
			arr1 = new Array(a);
                        arr2 = new Array(a);
                        arr3 = new Array(a);
                        arr4 = new Array(a);
                        arr5 = new Array(a);
                        arr6 = new Array(a);
                        arr7 = new Array(a);
                        arr8 = new Array(a);
                        arr9 = new Array(a);
			uarr0 = new Array(a);
                        uarr1 = new Array(a);
                        uarr2 = new Array(a);
                        uarr3 = new Array(a);
                        uarr4 = new Array(a);
                        uarr5 = new Array(a);
                        uarr6 = new Array(a);
                        uarr7 = new Array(a);
                        uarr8 = new Array(a);
                        uarr9 = new Array(a);
			for (i=0; i<a; i++) {
                        	arr0[i]=2000;
				arr1[i]=2000;
                                arr2[i]=2000;
                                arr3[i]=2000;
                                arr4[i]=2000;
                                arr5[i]=2000;
                                arr6[i]=2000;
                                arr7[i]=2000;
                                arr8[i]=2000;
                                arr9[i]=2000;
                                uarr0[i]=2000;
                                uarr1[i]=2000;
                                uarr2[i]=2000;
                                uarr3[i]=2000;
                                uarr4[i]=2000;
                                uarr5[i]=2000;
                                uarr6[i]=2000;
                                uarr7[i]=2000;
                                uarr8[i]=2000;
                                uarr9[i]=2000;
                        }

			// compute the correct answer
			
			top_offset = getYCumulativeOffset(arr);
			
			L0_clone = jsav.ds.list({visible: false, top: top_offset, left: 290});
                        L0_clone.layout({center: false});
                        L0_clone.addFirst(0);
                        L0_clone.layout({center: false});
                        top_offset = top_offset + 46;
                        L1_clone = jsav.ds.list({visible: false, top: top_offset, left: 290});
                        L1_clone.layout({center: false});
                        L1_clone.addFirst(1);
                        L1_clone.layout({center: false});
                        top_offset = top_offset + 46;
                        L2_clone = jsav.ds.list({visible: false, top: top_offset, left: 290});
                        L2_clone.layout({center: false});
                        L2_clone.addFirst(2);
                        L2_clone.layout({center: false});
                        top_offset = top_offset + 46;     
                        L3_clone = jsav.ds.list({visible: false, top: top_offset, left: 290});
                        L3_clone.layout({center: false});
                        L3_clone.addFirst(3);
                        L3_clone.layout({center: false});
                        top_offset = top_offset + 46;
                        L4_clone = jsav.ds.list({visible: false, top: top_offset, left: 290});
                        L4_clone.layout({center: false});
                        L4_clone.addFirst(4);
                        L4_clone.layout({center: false});
                        top_offset = top_offset + 46;
                        L5_clone = jsav.ds.list({visible: false, top: top_offset, left: 290});
                        L5_clone.layout({center: false});
                        L5_clone.addFirst(5);
                        L5_clone.layout({center: false});
                        top_offset = top_offset + 46;
                        L6_clone = jsav.ds.list({visible: false, top: top_offset, left: 290});
                        L6_clone.layout({center: false});
                        L6_clone.addFirst(6);
                        L6_clone.layout({center: false});
                        top_offset = top_offset + 46;
                        L7_clone = jsav.ds.list({visible: false, top: top_offset, left: 290});
                        L7_clone.layout({center: false});
                        L7_clone.addFirst(7);
                        L7_clone.layout({center: false});
                        top_offset = top_offset + 46;
                        L8_clone = jsav.ds.list({visible: false, top: top_offset, left: 290});
                        L8_clone.layout({center: false});
                        L8_clone.addFirst(8);
                        L8_clone.layout({center: false});
                        top_offset = top_offset + 46;
                        L9_clone = jsav.ds.list({visible: false, top: top_offset, left: 290});
                        L9_clone.layout({center: false});
                        L9_clone.addFirst(9);
                        L9_clone.layout({center: false});
		
			var msb=0;
			var i0=0,i1=0,i2=0,i3=0,i4=0,i5=0,i6=0,i7=0,i8=0,i9=0;		
			for (i=0; i<a; i++)
			{
        			var temp = arr_clone.value(i);
        			msb = temp % 10;
        			if (msb == 0)
        			{
                			L0_clone.addLast(temp);
                			L0_clone.layout({center: false});
					arr0[i0] = temp;
					i0 = i0+1;
        			}
        			if (msb == 1)
        			{
              				L1_clone.addLast(temp);
                			L1_clone.layout({center: false});
					arr1[i1] = temp;
                                        i1 = i1+1;
        			}
        			if (msb == 2)
        			{
                			L2_clone.addLast(temp);
                			L2_clone.layout({center: false});
					arr2[i2] = temp;
                                        i2 = i2+1;
        			}
        			if (msb == 3)
        			{
                			L3_clone.addLast(temp);
                			L3_clone.layout({center: false});
					arr3[i3] = temp;
                                        i3 = i3+1;
        			}
        			if (msb == 4)
        			{
                			L4_clone.addLast(temp);
                			L4_clone.layout({center: false});
					arr4[i4] = temp;
                                        i4 = i4+1;
        			}
        			if (msb == 5)
        			{
                			L5_clone.addLast(temp);
                			L5_clone.layout({center: false});
					arr5[i5] = temp;
                                        i5 = i5+1;
        			}
        			if (msb == 6)
        			{
                			L6_clone.addLast(temp);
                			L6_clone.layout({center: false});
					arr6[i6] = temp;
                                        i6 = i6+1;
        			}
        			if (msb == 7)
        			{
                			L7_clone.addLast(temp);
                			L7_clone.layout({center: false});
					arr7[i7] = temp;
                                        i7 = i7+1;
        			}
        			if (msb == 8)
        			{
                			L8_clone.addLast(temp);
                			L8_clone.layout({center: false});
					arr8[i8] = temp;
                                        i8 = i8+1;
        			}
        			if (msb == 9)
        			{
                			L9_clone.addLast(temp);
                			L9_clone.layout({center: false});
					arr9[i9] = temp;
                                        i9 = i9+1;
        			}
			}

			arr0.sort(function(a,b){return a-b});
			arr1.sort(function(a,b){return a-b});
                        arr2.sort(function(a,b){return a-b});
                        arr3.sort(function(a,b){return a-b});
                        arr4.sort(function(a,b){return a-b});
                        arr5.sort(function(a,b){return a-b});
                        arr6.sort(function(a,b){return a-b});
                        arr7.sort(function(a,b){return a-b});
                        arr8.sort(function(a,b){return a-b});
                        arr9.sort(function(a,b){return a-b});


			
			// bind the array and linked lists to click handler
			arr.click(function(index){clickHandler(this, index, 10)});
			L0.click (function(index) {clickHandler(this, index, 0)});
			L1.click (function(index) {clickHandler(this, index, 1)});
			L2.click (function(index) {clickHandler(this, index, 2)});
			L3.click (function(index) {clickHandler(this, index, 3)});
			L4.click (function(index) {clickHandler(this, index, 4)});
			L5.click (function(index) {clickHandler(this, index, 5)});
			L6.click (function(index) {clickHandler(this, index, 6)});
			L7.click (function(index) {clickHandler(this, index, 7)});
			L8.click (function(index) {clickHandler(this, index, 8)});
			L9.click (function(index) {clickHandler(this, index, 9)});
	
			$("#reset").click(function() {
                               f_reset(a);
                        });
  		}
	

		                // reset function definition
                function f_reset(a) {
                        var i;
                        for (i=0; i<a; i++) {
                                uarr0[i]=2000;
                                uarr1[i]=2000;
                                uarr2[i]=2000;
                                uarr3[i]=2000;
                                uarr4[i]=2000;
                                uarr5[i]=2000;
                                uarr6[i]=2000;
                                uarr7[i]=2000;
                                uarr8[i]=2000;
                                uarr9[i]=2000;
                        }
                        ii0 = 0;
                        ii1 = 0;
                        ii2 = 0;
                        ii3 = 0;
                        ii4 = 0;
                        ii5 = 0;
                        ii6 = 0;
                        ii7 = 0;
                        ii8 = 0;
                        ii9 = 0;
			while (L0.size() > 1 ) {
                                var n = L0.removeLast();
                                n.hide();
                                L0.layout({center: false});
				L0.last().edgeToNext().hide();
                        }
                        while (L1.size() > 1 ) {
                                var n = L1.removeLast();
                                n.hide();
                                L1.layout({center: false});
				L1.last().edgeToNext().hide();
                        }
                        while (L2.size() > 1 ) {
                                var n = L2.removeLast();
                                n.hide();
                                L2.layout({center: false});
				L2.last().edgeToNext().hide();
                        }
                        while (L3.size() > 1 ) {
                                var n = L3.removeLast();
                                n.hide();
                                L3.layout({center: false});
				L3.last().edgeToNext().hide();
                        }
                        while (L4.size() > 1 ) {
                                var n = L4.removeLast();
                                n.hide();
                                L4.layout({center: false});
				L4.last().edgeToNext().hide();
                        }
                        while (L5.size() > 1 ) {
                                var n = L5.removeLast();
                                n.hide();
                                L5.layout({center: false});
				L5.last().edgeToNext().hide();
                        }
                        while (L6.size() > 1 ) {
                                var n = L6.removeLast();
                                n.hide();
                                L6.layout({center: false});
				L6.last().edgeToNext().hide();
                        }
                        while (L7.size() > 1 ) {
                                var n = L7.removeLast();
                                n.hide();
                                L7.layout({center: false});
				L7.last().edgeToNext().hide();
                        }
                        while (L8.size() > 1 ) {
                                var n = L8.removeLast();
                                n.hide();
                                L8.layout({center: false});
				L8.last().edgeToNext().hide();
                        }
                        while (L9.size() > 1 ) {
                                var n = L9.removeLast();
                                n.hide();
                                L9.layout({center: false});
				L9.last().edgeToNext().hide();
                        }      
                }

 		// function that validates student's answer 
 		function checkAnswer (a) {
			var i;
			if (L0.size() != L0_clone.size() ) return (2 === 1);
			if (L1.size() != L1_clone.size() ) return (2 === 1);
                        if (L2.size() != L2_clone.size() ) return (2 === 1);
                        if (L3.size() != L3_clone.size() ) return (2 === 1);
                        if (L4.size() != L4_clone.size() ) return (2 === 1);
                        if (L5.size() != L5_clone.size() ) return (2 === 1);
                        if (L6.size() != L6_clone.size() ) return (2 === 1);
                        if (L7.size() != L7_clone.size() ) return (2 === 1);
                        if (L8.size() != L8_clone.size() ) return (2 === 1);
                        if (L9.size() != L9_clone.size() ) return (2 === 1);

			
			for (i=0; i<a; i++) {
				if ( arr0[i] != uarr0[i] ) return ( 2 === 1);
				if ( arr1[i] != uarr1[i] ) return ( 2 === 1);
				if ( arr2[i] != uarr2[i] ) return ( 2 === 1);
                                if ( arr3[i] != uarr3[i] ) return ( 2 === 1);
                                if ( arr4[i] != uarr4[i] ) return ( 2 === 1);
                                if ( arr5[i] != uarr5[i] ) return ( 2 === 1);
                                if ( arr6[i] != uarr6[i] ) return ( 2 === 1);
                                if ( arr7[i] != uarr7[i] ) return ( 2 === 1);
                                if ( arr8[i] != uarr8[i] ) return ( 2 === 1);
				if ( arr9[i] != uarr9[i] ) return ( 2 === 1);
			}
			return (1 === 1);
  		} 


	</script>


	<div class="exercise">
  		<div class="vars">
    			<var id="arr_size">randRange( 6, 12 )</var>
    			<var id="JSAV">initJSAV(arr_size)</var>
		</div>

  		<div class="problems">
    			<div>
      				<div class="question">
				<p> Select appropriate bins for each element using its LSB (least significant bit) </p>
				<p align="left" class="jsavexercisecontrols"><input id="reset" type="button" value="Reset" />	
				<div id="jsav"></div>
      			</div>
      			<div class="solution" data-type="custom">
				<div class="guess">
          				[myGuess]
        			</div>
				<div class="validator-function">
	  				return checkAnswer (arr_size);
				</div>
      			</div>
     
		 	<div class="hints">
				<p> Given elements belong to bin with id same as its LSB </p>
      			</div>
    		</div>
  	</div>
</body>
</html>
