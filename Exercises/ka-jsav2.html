<!DOCTYPE html>
<html data-require="math">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Addition 1</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/1.1-latest/MathJax.js?config=http://algoviz.org/OpenDSA/dev/OpenDSA/ODSAkhan-exercises/KAthJax-77111459c7d82564a705f9c5480e2c88.js">
</script>
  <script>urlBaseOverride = "../ODSAkhan-exercises/";</script>
  <script src="../ODSAkhan-exercises/khan-exercise.js"></script>
  <script src="http://algoviz.org/OpenDSA/JSAV/build/JSAV-min.js"></script>
  <link rel="stylesheet" href="http://algoviz.org/OpenDSA/JSAV/css/JSAV.css" type="text/css" />

<body>
<script>
  var jsav, arr,
  theArray = [],
  max = 0;
  
  // function to handle a click event on an array
  var clickHandler = function(index, e) {
    var HLcount = 0, HLpos = 0;
    if (!arr.isHighlight(index)) {
      arr.highlight(index);
    } else {
      arr.unhighlight(index);
    }
    // Figure out what the user has done, and report on it
    for (i=0; i<10; i++) {
      if (arr.isHighlight(i)) {
        HLcount++;
        HLpos = i;
      }
    }
    if ((HLcount === 1) && (arr.isHighlight(HLpos)) &&
        (theArray[HLpos] === max)) {
      av.umsg("Clicked on " + index + ", max is " + max +
              ", HLpos is " + HLpos + ": Now you have it!");
    } else {
      av.umsg("Clicked on " + index + ", max is " + max +
              ", HLpos is " + HLpos + ": Not there yet.");
    }
  }

  initJSAV = function(a) {
    var i;
    jsav = new JSAV("jsav");
    for (i=0; i < a; i++) {
      theArray[i] = Math.floor(Math.random()*1000);
      if (theArray[i] > max) max = theArray[i];
    }
    arr = jsav.ds.array(theArray, {indexed: true});
    // bind the clickHandler to handle click events on the array
    arr.click(clickHandler);
  }

  genAnswer = function() {
    return max;
  }
</script>

<div class="exercise">
  <div class="vars">
    <var id="A">randRange( 6, 10 )</var>
    <var id="JSAV">initJSAV(A)</var>
    <var id="CorrectAnswer">genAnswer()</var>
  </div>

  <div class="problems">
    <div>
      <div class="question">
	Click on the array element with the largest value.
	<div id="jsav">
	  <div class="jsavcanvas"></div>
	  <p class="jsavoutput jsavline"></p>
	</div>
      </div>
      <div class="solution" data-forms="integer">
	<var>CorrectAnswer</var>
      </div>
      <div class="hints">
	<p><var>CorrectAnswer</var></p>
      </div>
    </div>
  </div>
</div>
</body>
</html>
