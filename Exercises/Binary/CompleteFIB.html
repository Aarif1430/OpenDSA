<!DOCTYPE html>
<html data-require="math">
<head>
  <title>Complete Binary Tree</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.min.js"></script>
    <script src="../../khan-exercises/local-only/main.js" ></script>
</head>

<body data-width="950" data-height="550">
<script>
function genAnswer(node, relation) {
  if (relation === 0) { // Parent
    if (node == 0) {
      return "NONE";
    }
    if (node % 2 === 0) {
      return ((node-1)/2 - .5);
    } else {
      return (node-1)/2;
    }
  } else if (relation === 1) { // Left child
    num = (node*2) + 1;
    if (num > 10) {
      return "NONE";
    }
    return num;
  } else if(relation === 2) { // Right child
    num = (node*2) + 2;
    if (num > 10) {
      return "NONE";
    }
    return num;
  } else if (relation === 3) { // Left sibling
    if (node % 2 !== 0 && node !== 0) {
      return "NONE";
    }
    return node - 1;
  } else { // Right sibling
    num = node + 1;
    if(node % 2 == 0 || node == 0 || num > 10) {
      return "NONE";
    }
    return num;
  }
}
</script>

<div class="exercise">
  <div class="vars">
    <var id="node">randRange(0, 11)</var>
    <var id="relation">["parent", "left child", "right child", "left sibling", "right sibling"]</var>
    <var id="randrel">randRange(0, 4)</var>
    <var id="ANS">genAnswer(node, randrel)</var>
  </div>
  <div class="problems">
    <div id="problem-type-or-description">
      <p class="problem">WARNING! Read the conditions for the problems
        in this set very carefully! The type of relation and node
        can change from problem to problem.</p>
      <p class="question">For a complete binary tree with nodes
        labeled as in the figure above, what is
        the <var>relation[randrel]</var> of the node labeled <var>node</var>?
        Type in the node number of the <var>relation[randrel]</var>, or if one does
        not exist, then type NONE.
      </p>
      <p class="solution" data-type="text"><var>ANS</var></p>
      <div class="hints">
        <p>To find the parent of node <code>R</code>,
          calculate <code>\lfloor (R - 1)/2 \rfloor</code>.
          If <code>R = 0</code>, then it has no parent.</p>
        <p>To find the left child of node <code>R</code>,
          calculate <code>2R + 1</code>.
          If <code>2R + 1 \geq N</code>, then <code>R</code> has no left
          child.</p>
        <p>To find the right child of node <code>R</code>,
          calculate <code>2R + 2</code>.
          If <code>2R + 2 \geq N</code>, then <code>R</code> has no
          right child.</p>
        <p>To find the left sibling of node <code>R</code>,
          calculate <code>R - 1</code> if <code>R</code> is even.
          If <code>R</code> is not even, then it has no left sibling.</p>
        <p>To find the right sibling of node <code>R</code>,
          calculate <code>R + 1</code> if <code>R</code> is odd,
          and <code>R + 1 < N</code>.
          If these conditions are not met, then <code>R</code> has no
          right sibling.</p>
      </div>
    </div>
  </div>
</div>
</body>
</html>
