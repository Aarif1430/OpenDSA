{"document": {"@ids": "summation-techniques", "@names": "summation\\ techniques", "@source": "<string>", "@title": "Summation Techniques", "title": "Summation Techniques", "comment": [{"@xml:space": "preserve", "#text": "This file is part of the OpenDSA eTextbook project. See"}, {"@xml:space": "preserve", "#text": "http://algoviz.org/OpenDSA for more details."}, {"@xml:space": "preserve", "#text": "Copyright (c) 2012-2013 by the OpenDSA Project Contributors, and"}, {"@xml:space": "preserve", "#text": "distributed under an MIT open source license."}], "raw": [{"@format": "xml", "@xml:space": "preserve", "avmetadata": "null"}, {"@format": "xml", "@xml:space": "preserve", "odsalink": "AV/Background/SummationOneToNCON.css"}, {"@format": "xml", "@xml:space": "preserve", "inlineav": {"@type": "ss", "@exer_name": "SummationOneToNCON", "@long_name": "SummationOneToNCON", "@points": "0", "@required": "True", "@threshold": "1.0"}}, {"@format": "xml", "@xml:space": "preserve", "odsascript": "AV/Background/SummationOneToNCON.js"}], "paragraph": ["Consider the following simple summation.", {"title_reference": "proof by induction <proof by induction>", "math": "n(n+1)/2", "#text": "An easy \nshows that this summation has the well-known closed form\n.\nBut while induction is a good technique for proving that a proposed\nclosed-form expression is correct,\nhow do we find a candidate closed-form expression to test in the first\nplace?\nLet us try to think through this problem from first principles,\nas though we had never seen it before."}, {"math": ["n", "n", "n", "n^2", "n", "n", "n", "(n^2)/2"], "#text": "A good place to begin analyzing a summation it is to give an\nestimate of its value for a given .\nObserve that the biggest term for this summation is ,\nand there are  terms being summed up.\nSo the total must be less than .\nActually, most terms are much less than ,\nand the sizes of the terms grow linearly.\nIf we were to draw a picture with bars for the size of the terms,\ntheir heights would form a line, and we could enclose them in a box\n units wide and  units high.\nIt is easy to see from this that a closer estimate for the summation\nis about .\nHaving this estimate in hand helps us when trying to determine an\nexact closed-form solution, because we will hopefully recognize if our\nproposed solution is badly wrong."}, {"math": ["n-1", "n+1", "n/2", "n(n+1)/2"], "#text": "Let us now consider some ways that we might hit upon an exact equation\nfor the closed form solution to this summation.\nOne particularly clever approach that we can take is to\nobserve that we can \"pair up\" the first and last terms,\nthe second and ()th terms, and so on.\nEach pair sums to .\nThe number of pairs is .\nThus, the solution is .\nThis is pretty, and there is no doubt about it being correct.\nThe problem is that it is not a useful technique for solving many\nother summations."}, {"math": ["n", "n", "n^2", "c_1 n^2 + c_2 n + c_3", "c_1", "c_2", "c_3", "n", "n=0", "c_3", "n=1", "n=2"], "title_reference": "guess-and-test", "#text": "Now let us try to come up with something a bit more general.\nWe already recognized that, because the largest term is  and\nthere are  terms, the summation is less than .\nIf we are lucky, the closed form solution is a polynomial.\nUsing that as a working assumption,\nwe can invoke a technique called .\nWe will guess that the closed-form solution for this summation is a\npolynomial.\nThat means that we are guessing that it is of the form\n for some constants\n, , and .\nIf this is true, then we can plug in the answers to small cases of the\nsummation to solve for the coefficients.\nFor this example, substituting 0, 1, and 2 for  leads to\nthree simultaneous equations.\nBecause the summation when  is just 0,  must\nbe 0.\nFor  and  we get the two equations"}, {"math": ["c_1 = 1/2", "c_2 = 1/2"], "strong": "is", "#text": "which in turn yield  and .\nThus, if the closed-form solution for the summation  a polynomial,\nthen it can only be"}, "which is more commonly written", {"title_reference": "Example #SumIEx", "math": ["c_1n^2 + c_2 n \\log n", "n", "n+1"], "#text": "At this point, we still must do the \"test\" part of the\nguess-and-test approach.\nWe can use an induction proof to verify whether our\ncandidate closed-form solution is correct.\nIn this case it is indeed correct, as shown by\nExample .\nThe induction proof is necessary because our initial assumption that\nthe solution is a simple polynomial could be wrong.\nFor example, it might have been that the true solution\nincludes a logarithmic term, such as\n.\nThe process shown here is essentially fitting a curve to a fixed\nnumber of points.\nBecause there is always an -degree polynomial that fits\n points, we have not done enough work to be sure that we to\nknow the true equation without the induction proof."}, {"math": ["\\sum_{i=1}^n i^2", "\\sum_{i=1}^n i^c", "c"], "#text": "Guess-and-test is useful whenever the solution is a polynomial\nexpression.\nIn particular, similar reasoning can be used to solve for\n, or more generally \nfor  any positive integer.\nWhy is this not a universal approach to solving summations?\nBecause many summations do not have a polynomial as their closed\nform solution."}, {"title_reference": ["subtract-and-guess", "divide-and-guess", "shifting method"], "math": ["f", "g", "f(n) - g(n)", "f(n)/g(n)"], "#text": "A more general approach is based on the\n or  strategies.\nOne form of subtract-and-guess is known as the\n.\nThe shifting method subtracts the summation from a variation on the\nsummation.\nThe variation selected for the subtraction should be one that makes\nmost of the terms cancel out.\nTo solve sum , we pick a known function  and find a\npattern in terms of  or ."}], "math_block": [{"@xml:space": "preserve", "#text": "\\sum_{i=1}^n i."}, {"@xml:space": "preserve", "#text": "\\begin{eqnarray*}\nc_1 + c_2     & = & 1 \\\\\n4 c_1 + 2 c_2 & = & 3,\n\\end{eqnarray*}"}, {"@xml:space": "preserve", "#text": "1/2 n^2 + 1/2 n + 0"}, {"@xml:space": "preserve", "#text": "\\frac{n(n+1)}{2}."}], "topic": [{"title": "Example", "comment": {"@xml:space": "preserve", "#text": "Rawlins example"}, "paragraph": [{"math": ["\\sum_{i=1}^n i", "n", "f(n-1)"], "#text": "Find the closed form solution for  using\nthe divide-and-guess approach.\nWe will try two example functions to illustrate the\ndivide-and-guess method: dividing by  and dividing by\n.\nOur goal is to find patterns that we can use to guess a closed-form\nexpression as our candidate for testing with an induction proof.\nTo aid us in finding such patterns, we can construct a table\nshowing the first few numbers of each function, and the result of\ndividing one by the other, as follows."}, {"math": ["n", "f(n-1)", "\\frac{f(n)}{n} = \\frac{n+1}{2}", "\\frac{f(n)}{f(n-1)} = \\frac{n+1}{n-1}", "g", "f(n) - n = f(n-1)", "f(n) = f(n-1) + n", "f(n) - f(n-1) = n", "f(n) = f(n-1) + n"], "#text": "Dividing by both  and  happen to give us\nuseful patterns to work with.\n, and\n.\nOf course, lots of other guesses for function  do not\nwork.\nFor example, .\nKnowing that  is not useful for\ndetermining the closed form solution to this summation.\nOr consider .\nAgain, knowing that  is not useful.\nFinding the right combination of equations can be like finding a\nneedle in a haystack."}, {"math": ["\\frac{f(n)}{n} = \\frac{n+1}{2}", "f(n) = n(n+1)/2"], "#text": "In our first example, we can see directly what the closed-form\nsolution should be.\nSince ,\nobviously ."}, {"math": ["f(n)", "f(n-1)"], "#text": "Dividing  by  does not give so obvious a\nresult, but it provides another useful illustration."}, {"math": ["f(n) = n(n+1)/2", "f(n)/n = (n+1)/2", "f(n)/f(n-1) = (n+1)(n-1)"], "#text": "Once again, we still do not have a proof that\n.\nWhy?\nBecause we did not prove that  nor that\n.\nWe merely hypothesized patterns from looking at a few terms.\nFortunately, it is easy to check our hypothesis with\ninduction."}], "math_block": [{"@xml:space": "preserve", "#text": "\\begin{array}{r|rrrrrrrrrr}\nn&1&2&3&4&5&6&7&8&9&10\\\\\n\\hline\nf(n)&1&3&6&10&15&21&28&36&46&57\\\\\nn&1&2&3&4&5&6&7&8&9&10\\\\\nf(n)/n&2/2&3/2&4/2&5/2&6/2&7/2&8/2&9/2&10/2&11/2\\\\\nf(n\\!-\\!1)&0&1&3&6&10&15&21&28&36&46\\\\\nf(n)/f(n\\!-\\!1)&&3/1&4/2&5/3&6/4&7/5&8/6&9/7&10/8&11/9\n\\end{array}"}, {"@xml:space": "preserve", "#text": "\\begin{eqnarray*}\n\\frac{f(n)}{f(n-1)} &=& \\frac{n+1}{n-1}\\\\\nf(n) (n-1) &=& (n+1) f(n-1)\\\\\nf(n) (n-1) &=& (n+1) (f(n) - n)\\\\\nn f(n) - f(n) &=& n f(n) + f(n) - n^2 - n\\\\\n2 f(n) &=& n^2 + n = n (n+1)\\\\\nf(n) &=& \\frac{n (n + 1)}{2}\n\\end{eqnarray*}"}]}, {"title": "Example", "paragraph": ["Solve the summation", "We will begin by writing out a table listing the first few values\nof the summation, to see if we can detect a pattern.", {"math": ["f(n) = \\frac{2^n-1}{2^n}", "f(n)", "f(n)", "f(n)", "i", "1/2^i", "f(n) = 1 - \\frac{1}{2^n}"], "#text": "By direct inspection of the second line of the table,\nwe might recognize the pattern\n.\nA simple induction proof can then prove that this always holds\ntrue.\nAlternatively, consider if we hadn't noticed the pattern for the\nform of .\nWe might observe that  appears to be reaching an\nasymptote at 1.\nIn which case, we might consider looking at the difference between\n and the expected asymptote.\nThis result is shown in the last line of the table, which has a clear\npattern since the  th entry is of .\nFrom this we can easily deduce a guess that\n.\nAgain, a simple induction proof will verify the guess."}], "math_block": [{"@xml:space": "preserve", "#text": "\\sum_{i=1}^n 1/2^i."}, {"@xml:space": "preserve", "#text": "\\begin{array}{l|llllll}\nn & 1 &2 &3 &4 &5 &6\\\\\n\\hline\n\\\\[-10pt]\nf(n) & \\frac{1}{2} & \\frac{3}{4} & \\frac{7}{8} & \\frac{15}{16}\n& \\frac{31}{32} & \\frac{63}{64} \\\\[3pt]\n\\hline\n\\\\[-12pt]\n1-f(n) & \\frac{1}{2} & \\frac{1}{4} & \\frac{1}{8} &\n\\frac{1}{16} & \\frac{1}{32} & \\frac{1}{64}\\\\\n\\end{array}"}]}, {"title": "Example", "paragraph": ["Solve the summation", {"math": ["g(n)", "f(n)", "g(n)", "r", "r"], "#text": "This is called a geometric series.\nOur goal is to find some function  such\nthat the difference between  and  one from\nthe other leaves us with an easily manipulated equation.\nBecause the difference between consecutive terms of the summation\nis a factor of , we can shift terms if we multiply the\nentire expression by :"}, "We can now subtract the one equation from the other, as follows:", "The result leaves only the end terms:", "Thus, we get the result", {"math": "r \\neq 1", "#text": "where ."}], "math_block": [{"@xml:space": "preserve", "#text": "f(n) = \\sum_{i=0}^{n} ar^i = a + ar + ar^2 + \\cdots + ar^n."}, {"@xml:space": "preserve", "#text": "rf(n) = r\\sum_{i=0}^{n} ar^i = ar + ar^2 + ar^3 + \\cdots + ar^{n+1}."}, {"@xml:space": "preserve", "#text": "\\begin{eqnarray*}\nf(n) - rf(n) = a &+& ar + ar^2 + ar^3 + \\cdots + ar^{n}\\\\\n                 &-& (ar + ar^2 + ar^3 + \\cdots + ar^n) - ar^{n+1}.\n\\end{eqnarray*}"}, {"@xml:space": "preserve", "#text": "\\begin{eqnarray*}\nf(n) - rf(n) & = & \\sum_{i=0}^{n} ar^i - r\\sum_{i=0}^{n} ar^i.\\\\\n(1-r)f(n)    & = & a - ar^{n+1}.\n\\end{eqnarray*}"}, {"@xml:space": "preserve", "#text": "f(n) = \\frac{a - ar^{n+1}}{1 - r}"}]}, {"title": "Example", "comment": {"@xml:space": "preserve", "#text": "Manber's example"}, "paragraph": ["For our second example of the shifting method, we solve", "We can achieve our goal if we multiply by two:", {"math": ["i", "2f(n)", "i \\cdot 2^{i+1}", "(i+1)", "f(n)", "(i+1) \\cdot 2^{i+1}", "2^i"], "#text": "The  th term of  is ,\nwhile the  th term of  is\n.\nSubtracting one expression from the other yields the summation of\n and a few non-canceled terms:"}, {"math": ["i", "(i+1)", "i"], "#text": "Shift  's value in the second summation,\nsubstituting  for :"}, "Break the second summation into two parts:", "Cancel like terms:", {"math": ["i", "i", "(i+1)"], "#text": "Again shift  's value in the\nsummation, substituting  for :"}, "Replace the new summation with a\nsolution that we already know:", "Finally, reorganize the equation:"], "math_block": [{"@xml:space": "preserve", "#text": "f(n) = \\sum_{i=1}^{n} i2^i = 1 \\cdot 2^1 + 2 \\cdot 2^2 + 3 \\cdot\n2^3 + \\cdots + n \\cdot 2^n."}, {"@xml:space": "preserve", "#text": "2f(n) = 2\\sum_{i=1}^{n} i2^i = 1 \\cdot 2^2 + 2 \\cdot 2^3 + 3 \\cdot\n2^4 + \\cdots + (n-1) \\cdot 2^n + n \\cdot 2^{n+1}."}, {"@xml:space": "preserve", "#text": "\\begin{eqnarray*}\n2f(n) - f(n) & = & 2\\sum_{i=1}^n i 2^i - \\sum_{i=1}^n i 2^i\\\\\n             & = & \\sum_{i=1}^n i 2^{i+1} - \\sum_{i=1}^n i 2^i.\n\\end{eqnarray*}"}, {"@xml:space": "preserve", "#text": "= n2^{n+1} + \\sum_{i=0}^{n-1}i2^{i+1} -\n             \\sum_{i=0}^{n-1}(i+1)2^{i+1}."}, {"@xml:space": "preserve", "#text": "=  n2^{n+1} + \\sum_{i=0}^{n-1}i2^{i+1} -\n              \\sum_{i=0}^{n-1}i2^{i+1} -\n              \\sum_{i=0}^{n-1}2^{i+1}."}, {"@xml:space": "preserve", "#text": "= n2^{n+1} - \\sum_{i=0}^{n-1} 2^{i+1}."}, {"@xml:space": "preserve", "#text": "= n2^{n+1} - \\sum_{i=1}^{n} 2^i."}, {"@xml:space": "preserve", "#text": "= n2^{n+1} - \\left ( 2^{n+1} - 2 \\right )."}, {"@xml:space": "preserve", "#text": "= (n-1)2^{n+1} + 2."}]}]}}