<!DOCTYPE html>
<html>
<head>
	<title>Huffman Coding Tree</title>
	<meta charset="utf-8" />
	<link href="../opendsaAV.css" rel="stylesheet" type="text/css" />
	<link href="../../JSAV/css/JSAV.css" rel="stylesheet" type="text/css" />
	<link href="./huffmanCoding.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
	<script src="../../JSAV/lib/jquery.transform.light.js"></script>
	<script src="../../JSAV/lib/raphael.js"></script>
	<script src="../../JSAV/build/JSAV-min.js"></script>
	<script src="../../JSAV/build/JSAV.js"></script>
	<script src="./huffmanCoding.js"></script>


</head>
	
<body>
	<div id="av-container">
		<input type="button" id="about" name="about" value="about" style="margin-top:10px;"/>
		<a class="jsavsettings" href="#">Settings</a>
		<h1 style="">Huffman Coding Tree Visualization</h1>
		<div id="av">
			<span class="jsavcounter"></span>
			<div class="jsavcontrols"></div>
			<p class="jsavoutput jsavline" readonly="readonly"></p>
		</div> <!--av-->
	</div> <!--container-->

	<script>
	var jsav = new JSAV("av");
	var bt = jsav.ds.bintree();	// used to store the HuffmanCoding tree
	var tmpBT = jsav.ds.bintree();	// used to display the intermediate process for tree construction
	var caption_label = jsav.label("Huffman Coding Tree Construction", {before: bt});
	var caption_text = "";

	// userArry: an array to store the number and character
	var userArray = new Array();
	userArray[0] = 32;
	userArray[1] = "C";
	userArray[2] = 42;
	userArray[3] = "D";
	userArray[4] = 120;
	userArray[5] = "E";
	userArray[6] = 7;
	userArray[7] = "K"
	userArray[8] = 42;
	userArray[9] = "L"
	userArray[10] = 24;
	userArray[11] = "M";
	userArray[12] = 37;
	userArray[13] = "U";
	userArray[14] = 2;
	userArray[15] = "Z";

	// treeArray: an array to store the information of HuffmanCodingTree
	var treeArray = new Array();

	// numArray: used for logic control
	var numArray = new Array();

	// disArray: used for display control
	var disArray = new Array();

	// initialization for all the arrays
	for (var i = 0, j = 0; i < userArray.length - 1; i += 2, j++) {
		value = userArray[i] + "<br />" + userArray[i + 1];
		treeArray[j] = bt.newNode(value);
		disArray[j] = value;
		numArray[j] = userArray[i];
	}

	// an array to control the display
	arr = jsav.ds.array(disArray);
	caption_label.text(caption_text + "The initial data are as follows: the first line is frequency and the second line is the chracter");
	bt.hide();
	tmpBT.hide();
	jsav.step();

	// building the HuffmanCoding tree
	huffTree_animation(numArray, treeArray, disArray);

	traverse_color(bt.root(), "white");
	tmpBT.layout();
	tmpBT.hide();
	bt.show();
	bt.layout();
    jsav.recorded(); // done recording changes, will rewind
    
    $(".jsavtreenode").live("hover", function() {
	//console.log($(this).text(), $(this).offset().left, $(this).offset().top);
    });
    $("path").live("hover", function() {
	//console.log($(this).attr("d"));
    });
	</script>
</body>
