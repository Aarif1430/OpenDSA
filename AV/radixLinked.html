<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Radix Sort Linked Lists AV</title>
  <link href="opendsaAV.css" title="CSS" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="../JSAV/css/JSAV.css" type="text/css" />
<style>

#container {
  width: 900px;
  height:950px;
  border: 1px solid black;
  background-color: #efe;
  padding: 10px;
  overfow: hidden;
}

div h1 {
  background-color: #efe;
  margin: 5px;
}
.jsavcontainer {
  background-color: #efe;
  border: none;
}
.jsavcounter {
  position: absolute;
  width: 300px;
}
.jsavarray {
  padding-left:0;
}
p.jsavoutput.jsavline {
  height: 30px;
  margin: 0;
}
#about {
  float: right;
}
a.jsavsettings {
  display: block;
  margin-top: -1px;
  margin-left: 10px;
}
form {
  clear: both;
}
</style>
</head>
<body>
<div id="container">
  <input type="button" id="about" name="about" value="About" />
  <a class="jsavsettings" href="#">Settings</a>
  <input type="button" id="help" name="help" value="Help" />
  <h1 style="margin-top:-25px;">Radix Sort Linked List Visualization</h1>

  <form id="ssperform">
   
	<label for="arraysize">&nbsp;Array size:&nbsp;</label>
      <select id="arraysize">
       <option value = 5>5</option>
        <option value = 6>6</option>
        <option value = 7>7</option>
        <option selected value = 8>8</option>
        <option value = 9>9</option>
        <option value = 10>10</option>
        <option value = 11>11</option>
        <option value = 12>12</option>
        <option value = 13>13</option>
        <option value = 14>14</option>
        <option value = 15>15</option>
        <option value = 16>16</option>
      </select>
	  
	  <!-- Number of Digits -->
	 <label for="digitsize">&nbsp;Digits:&nbsp;</label> 
	<select id="digitsize">
	  <option selected value = 2> 2 </option>
	  <option value = 1> 1 </option>
	  <option value = 2> 2 </option>
	  <option value = 3> 3 </option>
	  <option value = 4> 4 </option>
	  <option value = 5> 5 </option>
	</select>
    <p>
      <input type="button" name="run" value="Run" />
      <input type="button" name="reset" value="Reset" />
      
	
      <label for="arrayValues">&nbsp;Array values:&nbsp;</label>
      <input size="60" name="arrayValues" id="arrayValues" type="text" 
	     placeholder="Type space-separated values, or just hit 'run' to use random values" />
    </p>
  </form>
  <div id="avcontainer">
    <span class="jsavcounter"></span>
    <div class="jsavcontrols"></div>
    <p class="jsavoutput jsavline" readonly="readonly"></p>
  </div> <!--avcontainer-->
</div> <!--container-->

<script
   src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js">
</script>
<script
  src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js">
</script>
<script src="../JSAV/lib/jquery.transform.light.js"></script>
<script src="http://algoviz.org/OpenDSA/JSAV/lib/raphael.js"></script>
<script src="../JSAV/build/JSAV-min.js"></script>

<script>
(function($) {
  // Number of values in the array
  var ASize = $('#arraysize').val();
  
  // The array of numbers.
  var theArray = [];
  var countArray = [];
  var outArray = [];
  
  // check query parameters from URL
  var params = JSAV.utils.getQueryParameter();
  
  if ("array" in params) { // set value of array pick if it is a param
    $('#arrayValues').val(params["array"]).prop("disabled", true);
  }
  
  // create a new settings panel and specify the link to show it
  var settings = new JSAV.utils.Settings($(".jsavsettings"));
  // add the layout setting preference
  var arrayLayout = settings.add("layout", {"type": "select", "options": {"bar": "Bar", "array": "Array"}, "label":"Array layout: ", "value": "array"});
  
  var context = $("#ssperform");
  var emptyContent = $("#avcontainer").html();
  var av, // for JSAV av
    arr, arrC, arrO, LL;  // for the JSAV array
	
 
	

	

  // Connect action callbacks to the HTML entities
  $('input[name="help"]').click(help);
  $('input[name="about"]').click(about);
  $('input[name="run"]', context).click(runIt);
  $('input[name="reset"]', context).click(reset);
  
  function about() {
    var mystring = "Radix Sort Linked List Algorithm Visualization\nWritten by ...\nCreated as part of the OpenDSA hypertextbook project.\nFor more information, see http://algoviz.org/OpenDSA\nWritten during Summer, 2012\nLast update: July, 2012\nJSAV library version " + JSAV.version();
    alert(mystring);
  }


  // Process Reset button: Reinitialize the output textbox and the AV
  function reset(flag) {
    if (av) {
      av.clearumsg();
      $("#avcontainer").unbind().html(emptyContent);
    }
    // Clear the array values field, when no params given and reset button hit
    if (flag !== true) {
      if (!$('#arrayValues').prop("disabled")) {
        $('#arrayValues').val("");
      }
    }
  }

  

  // Validate the user-defined array values
  function processArrayValues() {
    var i, 
        num, 
        msg = "Must be 5 to 16 positive integers";
    // Convert user's values to an array,
    // assuming values are space separated
    theArray = $('input[name="arrayValues"]', context).val().match(/[0-9]+/g) || [];
    if (theArray.length === 0) { // Empty field
      theArray.length = 0;
      return true;
    }
    if (theArray.length < 5 || theArray.length > 16) {
      alert(msg);
      theArray.length = 0;
      return false;
    }
    for (i=0; i<theArray.length; i++) {
      theArray[i] = Number(theArray[i]);
      if (isNaN(theArray[i]) || theArray[i] < 0) { 
        alert(msg);
        theArray.length = 0;
        return false;
      }
    }
    $('#arraysize').val(theArray.length);
    return true;
  }


  var setBlue = function(index) {
    //arr.css(index, {"background-color": "#bbf" });
	arrC.css(index, {"background-color": "#bbf" });
  };
  
   var setGreen = function(index) {
	arrC.css(index, {"background-color": "#00FF00" });
  };
  var setGreen2 = function(index) {
	arrO.css(index, {"background-color": "#00FF00" });
  };
  var setGreen3 = function(index) {
	arr.css(index, {"background-color": "#00FF00" });
  };
  
  //Radix linked list sort
	
  function radsort(){
    var i,k,j,p,y;
	var DSize = $('#digitsize').val();
	var size = DSize;
    var count = 1;
    var counter =0;
    while (size > 0){
	  var L0 = av.ds.list();
	  L0.addFirst(0);
	  L0.layout();
	  var L1 = av.ds.list();
	  L1.addFirst(1);
	  L1.layout();
	  var L2 = av.ds.list();
	  L2.addFirst(2);
	  L2.layout();
	  var L3 = av.ds.list();
	  L3.addFirst(3);
	  L3.layout();
	  var L4 = av.ds.list();
	  L4.addFirst(4);
	  L4.layout();
	  var L5 = av.ds.list();
	  L5.addFirst(5);
	  L5.layout();
	  var L6 = av.ds.list();
	  L6.addFirst(6);
	  L6.layout();
	  var L7 = av.ds.list();
	  L7.addFirst(7);
	  L7.layout();
	  var L8 = av.ds.list();
	  L8.addFirst(8);
	  L8.layout();
	  var L9 = av.ds.list();
	  L9.addFirst(9);
	  L9.layout();
	  
	  av.step();
	  av.displayInit();
	for (i=0; i<theArray.length; i++) {
	  var answer = Math.floor(((theArray[i])/count)%10);
	  var valu = theArray[i];
	  if(answer=== 0){
		L0.addLast(theArray[i]);
		L0.layout();
		}
	  if(answer=== 1){
		L1.addLast(theArray[i]);
		L1.layout();
		}
	   if(answer=== 2){
		L2.addLast(theArray[i]);
		L2.layout();
		}
	  if(answer=== 3){
		L3.addLast(theArray[i]);
		L3.layout();
		}
	  if(answer=== 4){
		L4.addLast(theArray[i]);
		L4.layout();
		}
	  if(answer=== 5){
		L5.addLast(theArray[i]);
		L5.layout();
		}
	   if(answer=== 6){
		L6.addLast(theArray[i]);
		L6.layout();
		}
	  if(answer=== 7){
		L7.addLast(theArray[i]);
		L7.layout();
		}
	  if(answer=== 8){
		L8.addLast(theArray[i]);
		L8.layout();
		}
	  if(answer=== 9){
		L9.addLast(theArray[i]);
		L9.layout();
		}
	   
	  av.step();
	  av.displayInit();
	//var ListNode node = new ListNode();
	//var LL = new ListNode(i,null);
    av.umsg("We start by creating a list and adding some elements..");
   console.log("answer = " + answer);
    
	
	}
	size = size -1;
      av.umsg("Now we set the Original Array equal to Output Array"); 
      av.step();
      counter = counter +1;
      count= Math.pow(10,counter);
	  
	}
  
  
  
  }
  
  // Execute the "Run" button function
  function runIt() {
    var i,j,k;
    var newSize = $('#arraysize').val();
    var DSize = $('#digitsize').val();
	var ASize = $('#arraysize').val();
    if (processArrayValues()) { // if it is false, we got junk user
                                // needs to fix
      if (theArray.length === 0) { // Make a random  array
        ASize = newSize;
	
        theArray.length = 0; // Out with the old
        // Give random numbers in range 0..999
		
        for (i=0; i < ASize; i++) {
          theArray[i] = Math.floor(Math.random()*(Math.pow(10,DSize)));
		  }
		for (i=0; i < ASize; i++) {
			outArray[i] = 0; // need to change in order to represent output array
		}
		
		for (k=0; k < 10; k++) {
		countArray[k] = 0; // need to change in order to represent count array
		}
      }
      else { // Use the values we got out of the user's list
        ASize = theArray.length;
      }
      reset(true); // Reset any previous visualization
      av = new JSAV("avcontainer"); // initialize JSAV ..
      // .. and the array. use the layout the user has selected
	  
	  arr = av.ds.array(theArray, {indexed: true, layout: arrayLayout.val()}); 
	  av.label("Original Array");
	  arrC = av.ds.array(countArray, {indexed: true, layout: arrayLayout.val()});
	  av.label("Output Array");
	 var LL = av.ds.list([2, 3, 5], {visible: true, center: true});
	 // arrO = av.ds.array(outArray, {indexed: true, layout: arrayLayout.val()});
	 // av.label("Output Array");
	
	  radsort(j);
		
      
	  
      
	  
	  
	  
      av.umsg("Done sorting!");
      av.recorded(); // mark the end
    }
  }
})(jQuery);
</script>
</body>
</html>

